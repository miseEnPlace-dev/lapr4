@startuml DM_SystemUser

class SystemUserBuilder {}
entity SystemUser <<(E,#8dc8f6) entity>> <<root>> {}
class RoleSet {}
class Username <<(V,#FF8B40) value object>> <<id>> {}
class Password <<(V,#FF8B40) value object>> {}
class Name <<(V,#FF8B40) value object>> {}
entity RoleAssignment <<(E,#8dc8f6) entity>> {}
class Role <<(V,#FF8B40) value object>> {}
class PasswordPolicy <<service>> {}
interface Set <RoleAssignment> {}

class SimplePasswordEncoder <<service>> {}
class PasswordHashEncoder <<service>> {}
interface PasswordEncoder {}

SystemUserBuilder ..> SystemUser

SystemUser --> RoleSet
SystemUser --> Username
SystemUser --> Password
SystemUser --> Name

Password ..> PasswordEncoder
Password ..> PasswordPolicy

PasswordEncoder <|-- SimplePasswordEncoder
PasswordEncoder <|-- PasswordHashEncoder

RoleSet ..|> Set

Set ..> RoleAssignment

RoleAssignment --> Role

@enduml
