@startuml US1003_SSD
autonumber

actor "Manager" as M
participant "ManageEnrolmentsUI" as UI <<presentation>>
participant "ManageEnrolmentController" as CTRL <<application>>
participant "Course" as C <<domain>>

database CourseRepository as REP <<repository>>

activate M

M -> UI : asks to list all the courses and their states
activate UI

UI -> CTRL : new
UI -> CTRL : listNotClosedCourses()
activate CTRL
CTRL -> REP : notFinishedCourses()
activate REP
REP --> CTRL : courses
deactivate REP
CTRL --> UI : courses
deactivate CTRL

UI --> M : lists all the non finished courses
deactivate UI

M -> UI : selects the desired course
activate UI
UI -> UI : get(index)
activate
UI --> M : asks the manager to select the desired action (open/close enrollments)
deactivate UI

M -> UI : selects the desired action
activate UI
UI --> M : reports the success of the operation
deactivate UI

deactivate M

@enduml
