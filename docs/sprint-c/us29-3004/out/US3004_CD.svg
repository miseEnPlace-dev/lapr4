<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="830px" preserveAspectRatio="none" style="width:840px;height:830px;background:#FFFFFF;" version="1.1" viewBox="0 0 840 830" width="840px" zoomAndPan="magnify"><defs/><g><!--MD5=[7035c2ddab02ef456bacf540815747dc]
class ShareBoardUI--><g id="elem_ShareBoardUI"><rect codeLine="2" fill="#F1F1F1" height="48" id="ShareBoardUI" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="287.5" y="7"/><ellipse cx="302.5" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M301.9688,29.9219 Q300.2188,29.9219 299.0781,29.1875 Q297.9531,28.4375 297.3906,27.0938 Q296.8438,25.7344 296.8438,23.9375 Q296.8438,21.9063 297.5,20.4531 Q298.1563,19 299.4375,18.2188 Q300.7188,17.4375 302.5938,17.4375 Q303.4844,17.4375 304.1563,17.625 Q304.8281,17.7969 305.5156,18.1406 L304.7031,20.1563 Q304.0781,19.8438 303.5313,19.7188 Q303,19.5938 302.5156,19.5938 Q301.3438,19.5938 300.6406,20.125 Q299.9375,20.6563 299.6406,21.6094 Q299.3438,22.5625 299.3438,23.8281 Q299.3438,25.8438 300.0625,26.8125 Q300.7813,27.7656 302.375,27.7656 Q302.9688,27.7656 303.5938,27.6094 Q304.2188,27.4531 305.0469,27.0781 L305.0469,29.2969 Q304.3125,29.6094 303.5156,29.7656 Q302.7344,29.9219 301.9688,29.9219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="316.5" y="28.432">ShareBoardUI</text><line style="stroke:#181818;stroke-width:0.5;" x1="288.5" x2="412.5" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="288.5" x2="412.5" y1="47" y2="47"/></g><!--MD5=[5853e3d0195ea269c9eb4f3796e6d249]
class ShareBoardController--><g id="elem_ShareBoardController"><rect codeLine="17" fill="#F1F1F1" height="219.6113" id="ShareBoardController" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="348" x="176.5" y="115"/><ellipse cx="273.25" cy="131" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M272.7188,137.9219 Q270.9688,137.9219 269.8281,137.1875 Q268.7031,136.4375 268.1406,135.0938 Q267.5938,133.7344 267.5938,131.9375 Q267.5938,129.9063 268.25,128.4531 Q268.9063,127 270.1875,126.2188 Q271.4688,125.4375 273.3438,125.4375 Q274.2344,125.4375 274.9063,125.625 Q275.5781,125.7969 276.2656,126.1406 L275.4531,128.1563 Q274.8281,127.8438 274.2813,127.7188 Q273.75,127.5938 273.2656,127.5938 Q272.0938,127.5938 271.3906,128.125 Q270.6875,128.6563 270.3906,129.6094 Q270.0938,130.5625 270.0938,131.8281 Q270.0938,133.8438 270.8125,134.8125 Q271.5313,135.7656 273.125,135.7656 Q273.7188,135.7656 274.3438,135.6094 Q274.9688,135.4531 275.7969,135.0781 L275.7969,137.2969 Q275.0625,137.6094 274.2656,137.7656 Q273.4844,137.9219 272.7188,137.9219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="293.75" y="136.432">ShareBoardController</text><line style="stroke:#181818;stroke-width:0.5;" x1="177.5" x2="523.5" y1="147" y2="147"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="184.5" y="159.034"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="196.5" y="165.9659">AuthorizationService authz</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="184.5" y="178.1019"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="251" x="196.5" y="185.0339">UserManagementService userService</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="184.5" y="197.1698"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="237" x="196.5" y="204.1018">ListBoardsService listBoardsService</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="184.5" y="216.2377"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="196.5" y="223.1697">BoardRepository boardRepo</text><line style="stroke:#181818;stroke-width:0.5;" x1="177.5" x2="523.5" y1="231.2717" y2="231.2717"/><ellipse cx="187.5" cy="246.3056" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265" x="196.5" y="250.2376">ShareBoardController(BoardRepository)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="196.5" y="269.3055">Â </text><ellipse cx="187.5" cy="284.4415" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="196.5" y="288.3734">listUserBoards()</text><ellipse cx="187.5" cy="303.5094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="196.5" y="307.4414">userPermission(board, user)</text><ellipse cx="187.5" cy="322.5773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="322" x="196.5" y="326.5093">updateUserPermission(board, user, permission)</text></g><!--MD5=[54a33dd013dd881697601ca49de6dfbc]
class AuthorizationService--><g id="elem_AuthorizationService"><rect codeLine="19" fill="#F1F1F1" height="67.0679" id="AuthorizationService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171" x="39" y="394.62"/><ellipse cx="54" cy="410.62" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M53.4688,417.5419 Q51.7188,417.5419 50.5781,416.8075 Q49.4531,416.0575 48.8906,414.7138 Q48.3438,413.3544 48.3438,411.5575 Q48.3438,409.5263 49,408.0731 Q49.6563,406.62 50.9375,405.8388 Q52.2188,405.0575 54.0938,405.0575 Q54.9844,405.0575 55.6563,405.245 Q56.3281,405.4169 57.0156,405.7606 L56.2031,407.7763 Q55.5781,407.4638 55.0313,407.3388 Q54.5,407.2138 54.0156,407.2138 Q52.8438,407.2138 52.1406,407.745 Q51.4375,408.2763 51.1406,409.2294 Q50.8438,410.1825 50.8438,411.4481 Q50.8438,413.4638 51.5625,414.4325 Q52.2813,415.3856 53.875,415.3856 Q54.4688,415.3856 55.0938,415.2294 Q55.7188,415.0731 56.5469,414.6981 L56.5469,416.9169 Q55.8125,417.2294 55.0156,417.3856 Q54.2344,417.5419 53.4688,417.5419 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="68" y="416.052">AuthorizationService</text><line style="stroke:#181818;stroke-width:0.5;" x1="40" x2="209" y1="426.62" y2="426.62"/><line style="stroke:#181818;stroke-width:0.5;" x1="40" x2="209" y1="434.62" y2="434.62"/><ellipse cx="50" cy="449.654" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="59" y="453.5859">session()</text></g><!--MD5=[c5b08e60048ef1bcd788d24cf324082e]
class UserSession--><g id="elem_UserSession"><rect codeLine="23" fill="#F1F1F1" height="67.0679" id="UserSession" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="7" y="521.68"/><ellipse cx="42.25" cy="537.68" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M41.7188,544.6019 Q39.9688,544.6019 38.8281,543.8675 Q37.7031,543.1175 37.1406,541.7738 Q36.5938,540.4144 36.5938,538.6175 Q36.5938,536.5863 37.25,535.1331 Q37.9063,533.68 39.1875,532.8988 Q40.4688,532.1175 42.3438,532.1175 Q43.2344,532.1175 43.9063,532.305 Q44.5781,532.4769 45.2656,532.8206 L44.4531,534.8363 Q43.8281,534.5238 43.2813,534.3988 Q42.75,534.2738 42.2656,534.2738 Q41.0938,534.2738 40.3906,534.805 Q39.6875,535.3363 39.3906,536.2894 Q39.0938,537.2425 39.0938,538.5081 Q39.0938,540.5238 39.8125,541.4925 Q40.5313,542.4456 42.125,542.4456 Q42.7188,542.4456 43.3438,542.2894 Q43.9688,542.1331 44.7969,541.7581 L44.7969,543.9769 Q44.0625,544.2894 43.2656,544.4456 Q42.4844,544.6019 41.7188,544.6019 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="60.75" y="543.112">UserSession</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="165" y1="553.68" y2="553.68"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="165" y1="561.68" y2="561.68"/><ellipse cx="18" cy="576.714" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="27" y="580.6459">authenticatedUser()</text></g><!--MD5=[bc064d979c32666ae52f3d7624591b7b]
class SystemUser--><g id="elem_SystemUser"><rect codeLine="27" fill="#F1F1F1" height="67.0679" id="SystemUser" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="139" y="648.75"/><ellipse cx="154" cy="664.75" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M153.4688,671.6719 Q151.7188,671.6719 150.5781,670.9375 Q149.4531,670.1875 148.8906,668.8438 Q148.3438,667.4844 148.3438,665.6875 Q148.3438,663.6563 149,662.2031 Q149.6563,660.75 150.9375,659.9688 Q152.2188,659.1875 154.0938,659.1875 Q154.9844,659.1875 155.6563,659.375 Q156.3281,659.5469 157.0156,659.8906 L156.2031,661.9063 Q155.5781,661.5938 155.0313,661.4688 Q154.5,661.3438 154.0156,661.3438 Q152.8438,661.3438 152.1406,661.875 Q151.4375,662.4063 151.1406,663.3594 Q150.8438,664.3125 150.8438,665.5781 Q150.8438,667.5938 151.5625,668.5625 Q152.2813,669.5156 153.875,669.5156 Q154.4688,669.5156 155.0938,669.3594 Q155.7188,669.2031 156.5469,668.8281 L156.5469,671.0469 Q155.8125,671.3594 155.0156,671.5156 Q154.2344,671.6719 153.4688,671.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="168" y="670.182">SystemUser</text><line style="stroke:#181818;stroke-width:0.5;" x1="140" x2="249" y1="680.75" y2="680.75"/><ellipse cx="150" cy="695.784" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="159" y="699.7159">username</text><line style="stroke:#181818;stroke-width:0.5;" x1="140" x2="249" y1="707.8179" y2="707.8179"/></g><!--MD5=[dee3711f8c64a3e2b37828f172d71c22]
class UserManagementService--><g id="elem_UserManagementService"><rect codeLine="31" fill="#F1F1F1" height="67.0679" id="UserManagementService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="201" x="201" y="521.68"/><ellipse cx="216" cy="537.68" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M215.4688,544.6019 Q213.7188,544.6019 212.5781,543.8675 Q211.4531,543.1175 210.8906,541.7738 Q210.3438,540.4144 210.3438,538.6175 Q210.3438,536.5863 211,535.1331 Q211.6563,533.68 212.9375,532.8988 Q214.2188,532.1175 216.0938,532.1175 Q216.9844,532.1175 217.6563,532.305 Q218.3281,532.4769 219.0156,532.8206 L218.2031,534.8363 Q217.5781,534.5238 217.0313,534.3988 Q216.5,534.2738 216.0156,534.2738 Q214.8438,534.2738 214.1406,534.805 Q213.4375,535.3363 213.1406,536.2894 Q212.8438,537.2425 212.8438,538.5081 Q212.8438,540.5238 213.5625,541.4925 Q214.2813,542.4456 215.875,542.4456 Q216.4688,542.4456 217.0938,542.2894 Q217.7188,542.1331 218.5469,541.7581 L218.5469,543.9769 Q217.8125,544.2894 217.0156,544.4456 Q216.2344,544.6019 215.4688,544.6019 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="230" y="543.112">UserManagementService</text><line style="stroke:#181818;stroke-width:0.5;" x1="202" x2="401" y1="553.68" y2="553.68"/><line style="stroke:#181818;stroke-width:0.5;" x1="202" x2="401" y1="561.68" y2="561.68"/><ellipse cx="212" cy="576.714" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="221" y="580.6459">allUsers()</text></g><!--MD5=[49bef16fb2b943374b423e0073982f8e]
class UserPermissionDTO--><g id="elem_UserPermissionDTO"><rect codeLine="35" fill="#F1F1F1" height="48" id="UserPermissionDTO" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="166" x="335.5" y="404.15"/><ellipse cx="350.5" cy="420.15" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M349.9688,427.0719 Q348.2188,427.0719 347.0781,426.3375 Q345.9531,425.5875 345.3906,424.2438 Q344.8438,422.8844 344.8438,421.0875 Q344.8438,419.0563 345.5,417.6031 Q346.1563,416.15 347.4375,415.3688 Q348.7188,414.5875 350.5938,414.5875 Q351.4844,414.5875 352.1563,414.775 Q352.8281,414.9469 353.5156,415.2906 L352.7031,417.3063 Q352.0781,416.9938 351.5313,416.8688 Q351,416.7438 350.5156,416.7438 Q349.3438,416.7438 348.6406,417.275 Q347.9375,417.8063 347.6406,418.7594 Q347.3438,419.7125 347.3438,420.9781 Q347.3438,422.9938 348.0625,423.9625 Q348.7813,424.9156 350.375,424.9156 Q350.9688,424.9156 351.5938,424.7594 Q352.2188,424.6031 353.0469,424.2281 L353.0469,426.4469 Q352.3125,426.7594 351.5156,426.9156 Q350.7344,427.0719 349.9688,427.0719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="364.5" y="425.582">UserPermissionDTO</text><line style="stroke:#181818;stroke-width:0.5;" x1="336.5" x2="500.5" y1="436.15" y2="436.15"/><line style="stroke:#181818;stroke-width:0.5;" x1="336.5" x2="500.5" y1="444.15" y2="444.15"/></g><!--MD5=[e8c189551b7885b999ad7cefb30fc2a3]
class PersistenceContext--><g id="elem_PersistenceContext"><rect codeLine="37" fill="#F1F1F1" height="67.0679" id="PersistenceContext" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="536.5" y="394.62"/><ellipse cx="551.5" cy="410.62" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M550.9688,417.5419 Q549.2188,417.5419 548.0781,416.8075 Q546.9531,416.0575 546.3906,414.7138 Q545.8438,413.3544 545.8438,411.5575 Q545.8438,409.5263 546.5,408.0731 Q547.1563,406.62 548.4375,405.8388 Q549.7188,405.0575 551.5938,405.0575 Q552.4844,405.0575 553.1563,405.245 Q553.8281,405.4169 554.5156,405.7606 L553.7031,407.7763 Q553.0781,407.4638 552.5313,407.3388 Q552,407.2138 551.5156,407.2138 Q550.3438,407.2138 549.6406,407.745 Q548.9375,408.2763 548.6406,409.2294 Q548.3438,410.1825 548.3438,411.4481 Q548.3438,413.4638 549.0625,414.4325 Q549.7813,415.3856 551.375,415.3856 Q551.9688,415.3856 552.5938,415.2294 Q553.2188,415.0731 554.0469,414.6981 L554.0469,416.9169 Q553.3125,417.2294 552.5156,417.3856 Q551.7344,417.5419 550.9688,417.5419 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="565.5" y="416.052">PersistenceContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="537.5" x2="695.5" y1="426.62" y2="426.62"/><line style="stroke:#181818;stroke-width:0.5;" x1="537.5" x2="695.5" y1="434.62" y2="434.62"/><ellipse cx="547.5" cy="449.654" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="556.5" y="453.5859">repositories()</text></g><!--MD5=[48590afff58a68e2fcba47824d6f8a11]
class RepositoryFactory--><g id="elem_RepositoryFactory"><rect codeLine="41" fill="#F1F1F1" height="67.0679" id="RepositoryFactory" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153" x="540" y="521.68"/><ellipse cx="555.9" cy="537.68" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M555.3688,544.6019 Q553.6188,544.6019 552.4781,543.8675 Q551.3531,543.1175 550.7906,541.7738 Q550.2438,540.4144 550.2438,538.6175 Q550.2438,536.5863 550.9,535.1331 Q551.5563,533.68 552.8375,532.8988 Q554.1188,532.1175 555.9938,532.1175 Q556.8844,532.1175 557.5563,532.305 Q558.2281,532.4769 558.9156,532.8206 L558.1031,534.8363 Q557.4781,534.5238 556.9313,534.3988 Q556.4,534.2738 555.9156,534.2738 Q554.7438,534.2738 554.0406,534.805 Q553.3375,535.3363 553.0406,536.2894 Q552.7438,537.2425 552.7438,538.5081 Q552.7438,540.5238 553.4625,541.4925 Q554.1813,542.4456 555.775,542.4456 Q556.3688,542.4456 556.9938,542.2894 Q557.6188,542.1331 558.4469,541.7581 L558.4469,543.9769 Q557.7125,544.2894 556.9156,544.4456 Q556.1344,544.6019 555.3688,544.6019 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="570.1" y="543.112">RepositoryFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="541" x2="692" y1="553.68" y2="553.68"/><line style="stroke:#181818;stroke-width:0.5;" x1="541" x2="692" y1="561.68" y2="561.68"/><ellipse cx="551" cy="576.714" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="560" y="580.6459">RepositoryFactory()</text></g><!--MD5=[343839bb48731e46d0fda742d45fdd31]
class BoardRepository--><g id="elem_BoardRepository"><rect codeLine="45" fill="#F1F1F1" height="67.0679" id="BoardRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="286" x="473.5" y="648.75"/><ellipse cx="559.75" cy="664.75" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M555.7813,671.25 L555.7813,669.5469 L558.1406,669.2813 L558.1406,661.0781 L555.7813,660.8125 L555.7813,659.1094 L562.9219,659.1094 L562.9219,660.8125 L560.5,661.0781 L560.5,669.2813 L562.9219,669.5469 L562.9219,671.25 L555.7813,671.25 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="105" x="580.25" y="670.182">BoardRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="474.5" x2="758.5" y1="680.75" y2="680.75"/><line style="stroke:#181818;stroke-width:0.5;" x1="474.5" x2="758.5" y1="688.75" y2="688.75"/><ellipse cx="484.5" cy="703.784" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="260" x="493.5" y="707.7159">findAllBoardCreatedByUser(username)</text></g><!--MD5=[5de8a5be3b0a45a4c1673806aaa132e8]
class JpaBoardRepository--><g id="elem_JpaBoardRepository"><rect codeLine="49" fill="#F1F1F1" height="48" id="JpaBoardRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="422.5" y="775.82"/><ellipse cx="437.5" cy="791.82" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M436.9688,798.7419 Q435.2188,798.7419 434.0781,798.0075 Q432.9531,797.2575 432.3906,795.9138 Q431.8438,794.5544 431.8438,792.7575 Q431.8438,790.7263 432.5,789.2731 Q433.1563,787.82 434.4375,787.0388 Q435.7188,786.2575 437.5938,786.2575 Q438.4844,786.2575 439.1563,786.445 Q439.8281,786.6169 440.5156,786.9606 L439.7031,788.9763 Q439.0781,788.6638 438.5313,788.5388 Q438,788.4138 437.5156,788.4138 Q436.3438,788.4138 435.6406,788.945 Q434.9375,789.4763 434.6406,790.4294 Q434.3438,791.3825 434.3438,792.6481 Q434.3438,794.6638 435.0625,795.6325 Q435.7813,796.5856 437.375,796.5856 Q437.9688,796.5856 438.5938,796.4294 Q439.2188,796.2731 440.0469,795.8981 L440.0469,798.1169 Q439.3125,798.4294 438.5156,798.5856 Q437.7344,798.7419 436.9688,798.7419 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="451.5" y="797.252">JpaBoardRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="423.5" x2="585.5" y1="807.82" y2="807.82"/><line style="stroke:#181818;stroke-width:0.5;" x1="423.5" x2="585.5" y1="815.82" y2="815.82"/></g><!--MD5=[d127b321d5f06f624489ed6e9875450a]
class InMemoryBoardRepository--><g id="elem_InMemoryBoardRepository"><rect codeLine="50" fill="#F1F1F1" height="48" id="InMemoryBoardRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212" x="621.5" y="775.82"/><ellipse cx="636.5" cy="791.82" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M635.9688,798.7419 Q634.2188,798.7419 633.0781,798.0075 Q631.9531,797.2575 631.3906,795.9138 Q630.8438,794.5544 630.8438,792.7575 Q630.8438,790.7263 631.5,789.2731 Q632.1563,787.82 633.4375,787.0388 Q634.7188,786.2575 636.5938,786.2575 Q637.4844,786.2575 638.1563,786.445 Q638.8281,786.6169 639.5156,786.9606 L638.7031,788.9763 Q638.0781,788.6638 637.5313,788.5388 Q637,788.4138 636.5156,788.4138 Q635.3438,788.4138 634.6406,788.945 Q633.9375,789.4763 633.6406,790.4294 Q633.3438,791.3825 633.3438,792.6481 Q633.3438,794.6638 634.0625,795.6325 Q634.7813,796.5856 636.375,796.5856 Q636.9688,796.5856 637.5938,796.4294 Q638.2188,796.2731 639.0469,795.8981 L639.0469,798.1169 Q638.3125,798.4294 637.5156,798.5856 Q636.7344,798.7419 635.9688,798.7419 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="650.5" y="797.252">InMemoryBoardRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="622.5" x2="832.5" y1="807.82" y2="807.82"/><line style="stroke:#181818;stroke-width:0.5;" x1="622.5" x2="832.5" y1="815.82" y2="815.82"/></g><!--MD5=[a968c633a08c2e88a66608b307b3c349]
link ShareBoardUI to ShareBoardController--><g id="link_ShareBoardUI_ShareBoardController"><path codeLine="52" d="M350.5,55.14 C350.5,69.26 350.5,88.48 350.5,108.89 " fill="none" id="ShareBoardUI-to-ShareBoardController" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="350.5,113.68,354.5,104.68,350.5,108.68,346.5,104.68,350.5,113.68" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[40e5b14cb62f69b6c8d06633b861f4b8]
link ShareBoardController to AuthorizationService--><g id="link_ShareBoardController_AuthorizationService"><path codeLine="54" d="M227.91,335.02 C205.53,354.97 183.65,374.46 165.82,390.34 " fill="none" id="ShareBoardController-to-AuthorizationService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="162.38,393.3,171.7634,390.3081,166.1163,389.9773,166.4471,384.3301,162.38,393.3" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[195574f41372c660535c923761f0b3b2]
link ShareBoardController to UserManagementService--><g id="link_ShareBoardController_UserManagementService"><path codeLine="55" d="M327.62,334.97 C323.91,354.77 320.35,375.27 317.5,394.62 C311.43,435.72 307,483.13 304.36,515.53 " fill="none" id="ShareBoardController-to-UserManagementService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="303.89,520.4,308.5969,511.7487,304.2899,515.416,300.6226,511.1089,303.89,520.4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[31041d313841c9a104b9ddc7a3d3494b]
link ShareBoardController to PersistenceContext--><g id="link_ShareBoardController_PersistenceContext"><path codeLine="56" d="M494.79,335.02 C521.36,355.14 547.32,374.79 568.4,390.74 " fill="none" id="ShareBoardController-to-PersistenceContext" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="572.1,394.3,567.3345,385.6809,568.112,391.284,562.5089,392.0616,572.1,394.3" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[273b41d75fc838919fb5b78ec6b17bdf]
link ShareBoardController to UserPermissionDTO--><g id="link_ShareBoardController_UserPermissionDTO"><path codeLine="57" d="M387.39,335.02 C395.3,358.45 403,381.25 408.76,398.31 " fill="none" id="ShareBoardController-to-UserPermissionDTO" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="410.63,402.86,411.5343,393.0527,409.0274,398.1238,403.9564,395.6169,410.63,402.86" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[51777fa5f2d524d4088e82040ea93a10]
link AuthorizationService to UserSession--><g id="link_AuthorizationService_UserSession"><path codeLine="59" d="M114.52,462.01 C109.5,478.53 103.39,498.64 98.16,515.86 " fill="none" id="AuthorizationService-to-UserSession" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="96.42,520.58,102.868,513.1353,97.8764,515.7968,95.2149,510.8051,96.42,520.58" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[355d05d6de50819a91dcbeed962da43b]
link UserSession to SystemUser--><g id="link_UserSession_SystemUser"><path codeLine="61" d="M114.88,589.08 C129.51,606.03 147.41,626.76 162.53,644.27 " fill="none" id="UserSession-to-SystemUser" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="166.31,647.65,163.4723,638.2188,163.049,643.8598,157.408,643.4364,166.31,647.65" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[cd80e25f455daf6ddd6f1a7b4e805c64]
link UserManagementService to SystemUser--><g id="link_UserManagementService_SystemUser"><path codeLine="62" d="M273.39,589.08 C258.89,606.03 241.15,626.76 226.17,644.27 " fill="none" id="UserManagementService-to-SystemUser" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="222.43,647.65,231.3149,643.4006,225.6757,643.8467,225.2296,638.2074,222.43,647.65" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[754b775031405e096442b27febffa290]
link PersistenceContext to RepositoryFactory--><g id="link_PersistenceContext_RepositoryFactory"><path codeLine="64" d="M616.5,462.01 C616.5,478.53 616.5,498.64 616.5,515.86 " fill="none" id="PersistenceContext-to-RepositoryFactory" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="616.5,520.58,620.5,511.58,616.5,515.58,612.5,511.58,616.5,520.58" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9e6ab32cded5d5462f9797f4992e95c2]
link RepositoryFactory to BoardRepository--><g id="link_RepositoryFactory_BoardRepository"><path codeLine="66" d="M616.5,589.08 C616.5,605.59 616.5,625.71 616.5,642.93 " fill="none" id="RepositoryFactory-to-BoardRepository" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="616.5,647.65,620.5,638.65,616.5,642.65,612.5,638.65,616.5,647.65" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[5e4f8425b323aebc2a47409616463804]
reverse link BoardRepository to JpaBoardRepository--><g id="link_BoardRepository_JpaBoardRepository"><path codeLine="68" d="M570.29,730.96 C555.39,746.33 539.53,762.68 527.12,775.48 " fill="none" id="BoardRepository-backto-JpaBoardRepository" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="564.76,726.57,583.7,717.08,574.81,736.32,564.76,726.57" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[3a915bb8fad43328cafd29034c7ae72a]
reverse link BoardRepository to InMemoryBoardRepository--><g id="link_BoardRepository_InMemoryBoardRepository"><path codeLine="69" d="M662.3,730.96 C677.07,746.33 692.78,762.68 705.08,775.48 " fill="none" id="BoardRepository-backto-InMemoryBoardRepository" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="657.82,736.36,649.01,717.08,667.92,726.66,657.82,736.36" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[e6e321d68dbb6ec8ba78cd2cf172bcfa]
@startuml US3004_CD

class ShareBoardUI {}

class ShareBoardController {
  - AuthorizationService authz
  - UserManagementService userService
  - ListBoardsService listBoardsService
  - BoardRepository boardRepo

  + ShareBoardController(BoardRepository)

  + listUserBoards()
  + userPermission(board, user)
  + updateUserPermission(board, user, permission)
}

class ShareBoardController {}

class AuthorizationService {
  + session()
}

class UserSession {
  + authenticatedUser()
}

class SystemUser {
  + username
}

class UserManagementService {
  + allUsers()
}

class UserPermissionDTO {}

class PersistenceContext {
  + repositories()
}

class RepositoryFactory {
  + RepositoryFactory()
}

interface BoardRepository {
  + findAllBoardCreatedByUser(username)
}

class JpaBoardRepository {}
class InMemoryBoardRepository {}

ShareBoardUI ..> ShareBoardController

ShareBoardController - -> AuthorizationService
ShareBoardController - -> UserManagementService
ShareBoardController ..> PersistenceContext
ShareBoardController ..> UserPermissionDTO

AuthorizationService ..> UserSession

UserSession ..> SystemUser
UserManagementService ..> SystemUser

PersistenceContext ..> RepositoryFactory

RepositoryFactory ..> BoardRepository

BoardRepository <|- - JpaBoardRepository
BoardRepository <|- - InMemoryBoardRepository

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>