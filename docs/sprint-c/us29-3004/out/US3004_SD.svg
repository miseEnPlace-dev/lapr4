<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1412px" preserveAspectRatio="none" style="width:2277px;height:1412px;background:#FFFFFF;" version="1.1" viewBox="0 0 2277 1412" width="2277px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1195.4166" style="stroke:#181818;stroke-width:1.0;" width="10" x="18.5" y="99.1358"/><rect fill="#FFFFFF" height="1171.7106" style="stroke:#181818;stroke-width:1.0;" width="10" x="443.5" y="122.8419"/><rect fill="#FFFFFF" height="1149.0046" style="stroke:#181818;stroke-width:1.0;" width="10" x="842.5" y="154.5479"/><rect fill="#FFFFFF" height="317.3541" style="stroke:#181818;stroke-width:1.0;" width="10" x="1124.5" y="186.2539"/><rect fill="#FFFFFF" height="602.7083" style="stroke:#181818;stroke-width:1.0;" width="10" x="1292" y="217.9599"/><rect fill="#FFFFFF" height="607.7083" style="stroke:#181818;stroke-width:1.0;" width="10" x="1431.5" y="403.196"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="1625" y="947.4923"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1625" y="1232.8464"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1736" y="434.902"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="1949" y="1042.6103"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="2095" y="313.0779"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="2095" y="852.3742"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="2217.5" y="757.2562"/><rect fill="none" height="113.118" style="stroke:#000000;stroke-width:1.5;" width="739" x="1053.5" y="359.784"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="89.1358" y2="1312.5524"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="448.5" x2="448.5" y1="89.1358" y2="1312.5524"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="847.5" x2="847.5" y1="89.1358" y2="1312.5524"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1129.5" x2="1129.5" y1="89.1358" y2="1312.5524"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1296.5" x2="1296.5" y1="89.1358" y2="1312.5524"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1436.5" x2="1436.5" y1="89.1358" y2="1312.5524"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1522.5" x2="1522.5" y1="89.1358" y2="1312.5524"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1629.5" x2="1629.5" y1="89.1358" y2="1312.5524"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1740.5" x2="1740.5" y1="89.1358" y2="1312.5524"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1829.5" x2="1829.5" y1="89.1358" y2="1312.5524"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1953.5" x2="1953.5" y1="89.1358" y2="1312.5524"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2099.5" x2="2099.5" y1="89.1358" y2="1312.5524"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2222.5" x2="2222.5" y1="89.1358" y2="1312.5524"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="85.0339">User</text><ellipse cx="23.5" cy="18.5679" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.5,26.5679 L23.5,53.5679 M10.5,34.5679 L36.5,34.5679 M23.5,53.5679 L10.5,68.5679 M23.5,53.5679 L36.5,68.5679 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="1326.5184">User</text><ellipse cx="23.5" cy="1339.1203" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.5,1347.1203 L23.5,1374.1203 M10.5,1355.1203 L36.5,1355.1203 M23.5,1374.1203 L10.5,1389.1203 M23.5,1374.1203 L36.5,1389.1203 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="394.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="94" x="401.5" y="57.9659">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="401.5" y="77.0339">ShareBoardUI</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="394.5" y="1311.5524"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="94" x="401.5" y="1333.5184">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="401.5" y="1352.5863">ShareBoardUI</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="767.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="85" x="805" y="57.9659">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="774.5" y="77.0339">ShareBoardController</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="767.5" y="1311.5524"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="85" x="805" y="1333.5184">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="774.5" y="1352.5863">ShareBoardController</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="1063.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="57" x="1101" y="57.9659">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1070.5" y="77.0339">ListBoardsService</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="1063.5" y="1311.5524"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="57" x="1101" y="1333.5184">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1070.5" y="1352.5863">ListBoardsService</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="183" x="1205.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="57" x="1268.5" y="57.9659">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="1212.5" y="77.0339">UserManagementService</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="183" x="1205.5" y="1311.5524"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="57" x="1268.5" y="1333.5184">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="1212.5" y="1352.5863">UserManagementService</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="1398.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="1405.5" y="57.9659">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="1416.5" y="77.0339">Board</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="1398.5" y="1311.5524"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="1405.5" y="1333.5184">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="1416.5" y="1352.5863">Board</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="1484.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="1491.5" y="57.9659">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="1507" y="77.0339">User</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="1484.5" y="1311.5524"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="1491.5" y="1333.5184">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="1507" y="1352.5863">User</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="1570.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="1599" y="57.9659">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1577.5" y="77.0339">UserPermission</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="1570.5" y="1311.5524"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="1599" y="1333.5184">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1577.5" y="1352.5863">UserPermission</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="1699.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="35" x="1723.5" y="57.9659">«dto»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1706.5" y="77.0339">BoardDTO</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="1699.5" y="1311.5524"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="35" x="1723.5" y="1333.5184">«dto»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1706.5" y="1352.5863">BoardDTO</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="1792.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="35" x="1812" y="57.9659">«dto»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1799.5" y="77.0339">UserDTO</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="1792.5" y="1311.5524"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="35" x="1812" y="1333.5184">«dto»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1799.5" y="1352.5863">UserDTO</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="1876.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="35" x="1936.5" y="57.9659">«dto»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="1883.5" y="77.0339">UserPermissionsDTO</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="1876.5" y="1311.5524"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="35" x="1936.5" y="1333.5184">«dto»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="1883.5" y="1352.5863">UserPermissionsDTO</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="2057.5" y="65.9659">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="2041.5" y="85.0339">BoardRepository</text><path d="M2082,15 C2082,5 2100,5 2100,5 C2100,5 2118,5 2118,15 L2118,41 C2118,51 2100,51 2100,51 C2100,51 2082,51 2082,41 L2082,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2082,15 C2082,25 2100,25 2100,25 C2100,25 2118,25 2118,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="2057.5" y="1326.5184">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="2041.5" y="1345.5863">BoardRepository</text><path d="M2082,1359.6883 C2082,1349.6883 2100,1349.6883 2100,1349.6883 C2100,1349.6883 2118,1349.6883 2118,1359.6883 L2118,1385.6883 C2118,1395.6883 2100,1395.6883 2100,1395.6883 C2100,1395.6883 2082,1395.6883 2082,1385.6883 L2082,1359.6883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2082,1359.6883 C2082,1369.6883 2100,1369.6883 2100,1369.6883 C2100,1369.6883 2118,1369.6883 2118,1359.6883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="2180" y="65.9659">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="2168.5" y="85.0339">UserRepository</text><path d="M2204.5,15 C2204.5,5 2222.5,5 2222.5,5 C2222.5,5 2240.5,5 2240.5,15 L2240.5,41 C2240.5,51 2222.5,51 2222.5,51 C2222.5,51 2204.5,51 2204.5,41 L2204.5,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2204.5,15 C2204.5,25 2222.5,25 2222.5,25 C2222.5,25 2240.5,25 2240.5,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="2180" y="1326.5184">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="2168.5" y="1345.5863">UserRepository</text><path d="M2204.5,1359.6883 C2204.5,1349.6883 2222.5,1349.6883 2222.5,1349.6883 C2222.5,1349.6883 2240.5,1349.6883 2240.5,1359.6883 L2240.5,1385.6883 C2240.5,1395.6883 2222.5,1395.6883 2222.5,1395.6883 C2222.5,1395.6883 2204.5,1395.6883 2204.5,1385.6883 L2204.5,1359.6883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2204.5,1359.6883 C2204.5,1369.6883 2222.5,1369.6883 2222.5,1369.6883 C2222.5,1369.6883 2240.5,1369.6883 2240.5,1359.6883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#FFFFFF" height="1195.4166" style="stroke:#181818;stroke-width:1.0;" width="10" x="18.5" y="99.1358"/><rect fill="#FFFFFF" height="1171.7106" style="stroke:#181818;stroke-width:1.0;" width="10" x="443.5" y="122.8419"/><rect fill="#FFFFFF" height="1149.0046" style="stroke:#181818;stroke-width:1.0;" width="10" x="842.5" y="154.5479"/><rect fill="#FFFFFF" height="317.3541" style="stroke:#181818;stroke-width:1.0;" width="10" x="1124.5" y="186.2539"/><rect fill="#FFFFFF" height="602.7083" style="stroke:#181818;stroke-width:1.0;" width="10" x="1292" y="217.9599"/><rect fill="#FFFFFF" height="607.7083" style="stroke:#181818;stroke-width:1.0;" width="10" x="1431.5" y="403.196"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="1625" y="947.4923"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1625" y="1232.8464"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1736" y="434.902"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="1949" y="1042.6103"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="2095" y="313.0779"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="2095" y="852.3742"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="2217.5" y="757.2562"/><polygon fill="#181818" points="431.5,118.8419,441.5,122.8419,431.5,126.8419,435.5,122.8419" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="28.5" x2="437.5" y1="122.8419" y2="122.8419"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="35.5" y="117.0328">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="46.5" y="117.0328">asks to share a board</text><polygon fill="#181818" points="830.5,150.5479,840.5,154.5479,830.5,158.5479,834.5,154.5479" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="453.5" x2="836.5" y1="154.5479" y2="154.5479"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="460.5" y="148.7389">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="471.5" y="148.7389">new()</text><polygon fill="#181818" points="1112.5,182.2539,1122.5,186.2539,1112.5,190.2539,1116.5,186.2539" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.5" x2="1118.5" y1="186.2539" y2="186.2539"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="859.5" y="180.4449">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="870.5" y="180.4449">listBoardService = new(boardRepository)</text><polygon fill="#181818" points="1280,213.9599,1290,217.9599,1280,221.9599,1284,217.9599" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.5" x2="1286" y1="217.9599" y2="217.9599"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="859.5" y="212.1509">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="870.5" y="212.1509">usrService = new(userRepository)</text><polygon fill="#181818" points="830.5,245.6659,840.5,249.6659,830.5,253.6659,834.5,249.6659" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="453.5" x2="836.5" y1="249.6659" y2="249.6659"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="460.5" y="243.8569">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="471.5" y="243.8569">listUserBoards()</text><polygon fill="#181818" points="1112.5,277.3719,1122.5,281.3719,1112.5,285.3719,1116.5,281.3719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.5" x2="1118.5" y1="281.3719" y2="281.3719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="859.5" y="275.5629">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="870.5" y="275.5629">userBoards(user)</text><polygon fill="#181818" points="2083,309.0779,2093,313.0779,2083,317.0779,2087,313.0779" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1134.5" x2="2089" y1="313.0779" y2="313.0779"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1141.5" y="307.2689">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="1152.5" y="307.2689">findAllBoardsCreatedByUser(user)</text><polygon fill="#181818" points="1145.5,340.784,1135.5,344.784,1145.5,348.784,1141.5,344.784" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1139.5" x2="2099" y1="344.784" y2="344.784"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1151.5" y="338.975">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="1162.5" y="338.975">boards</text><path d="M1053.5,359.784 L1126.5,359.784 L1126.5,369.49 L1116.5,379.49 L1053.5,379.49 L1053.5,359.784 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="113.118" style="stroke:#000000;stroke-width:1.5;" width="739" x="1053.5" y="359.784"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1068.5" y="374.681">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="90" x="1141.5" y="373.5429">[for each board]</text><polygon fill="#181818" points="1419.5,399.196,1429.5,403.196,1419.5,407.196,1423.5,403.196" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1134.5" x2="1425.5" y1="403.196" y2="403.196"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1141.5" y="397.387">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="1152.5" y="397.387">toDTO(course)</text><polygon fill="#181818" points="1724,430.902,1734,434.902,1724,438.902,1728,434.902" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1441.5" x2="1730" y1="434.902" y2="434.902"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1448.5" y="429.093">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="1466.5" y="429.093">new()</text><polygon fill="#181818" points="863.5,499.608,853.5,503.608,863.5,507.608,859.5,503.608" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="857.5" x2="1128.5" y1="503.608" y2="503.608"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="869.5" y="497.799">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="887.5" y="497.799">boards</text><polygon fill="#181818" points="464.5,531.314,454.5,535.314,464.5,539.314,460.5,535.314" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="458.5" x2="841.5" y1="535.314" y2="535.314"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="470.5" y="529.505">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="488.5" y="529.505">boards</text><polygon fill="#181818" points="39.5,563.0201,29.5,567.0201,39.5,571.0201,35.5,567.0201" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="33.5" x2="442.5" y1="567.0201" y2="567.0201"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="45.5" y="561.2111">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="63.5" y="561.2111">asks to select a board</text><polygon fill="#181818" points="431.5,594.7261,441.5,598.7261,431.5,602.7261,435.5,598.7261" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="28.5" x2="437.5" y1="598.7261" y2="598.7261"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="35.5" y="592.9171">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="53.5" y="592.9171">selects a board</text><polygon fill="#181818" points="431.5,626.4321,441.5,630.4321,431.5,634.4321,435.5,630.4321" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="28.5" x2="437.5" y1="630.4321" y2="630.4321"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="35.5" y="624.6231">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="373" x="53.5" y="624.6231">asks to enter the username of the user to share the board with</text><polygon fill="#181818" points="431.5,658.1381,441.5,662.1381,431.5,666.1381,435.5,662.1381" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="28.5" x2="437.5" y1="662.1381" y2="662.1381"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="35.5" y="656.3291">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="53.5" y="656.3291">enters the desired username</text><polygon fill="#181818" points="830.5,689.8441,840.5,693.8441,830.5,697.8441,834.5,693.8441" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="453.5" x2="836.5" y1="693.8441" y2="693.8441"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="460.5" y="688.0351">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="478.5" y="688.0351">userPermission(boardDto, username)</text><polygon fill="#181818" points="1280,721.5501,1290,725.5501,1280,729.5501,1284,725.5501" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.5" x2="1286" y1="725.5501" y2="725.5501"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="859.5" y="719.7411">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="877.5" y="719.7411">user = usrService.userOfIdentity(username)</text><polygon fill="#181818" points="2205.5,753.2562,2215.5,757.2562,2205.5,761.2562,2209.5,757.2562" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1302" x2="2211.5" y1="757.2562" y2="757.2562"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1309" y="751.4472">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="1327" y="751.4472">ofIdentity(username)</text><polygon fill="#181818" points="1313,784.9622,1303,788.9622,1313,792.9622,1309,788.9622" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1307" x2="2221.5" y1="788.9622" y2="788.9622"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1319" y="783.1532">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="1337" y="783.1532">user</text><polygon fill="#181818" points="863.5,816.6682,853.5,820.6682,863.5,824.6682,859.5,820.6682" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="857.5" x2="1296" y1="820.6682" y2="820.6682"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="869.5" y="814.8592">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="887.5" y="814.8592">user</text><polygon fill="#181818" points="2083,848.3742,2093,852.3742,2083,856.3742,2087,852.3742" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.5" x2="2089" y1="852.3742" y2="852.3742"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="859.5" y="846.5652">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="292" x="877.5" y="846.5652">board = boardRepository.ofIdentity(boardDto.id)</text><polygon fill="#181818" points="863.5,880.0802,853.5,884.0802,863.5,888.0802,859.5,884.0802" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="857.5" x2="2099" y1="884.0802" y2="884.0802"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="869.5" y="878.2712">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="887.5" y="878.2712">board</text><polygon fill="#181818" points="1419.5,911.7862,1429.5,915.7862,1419.5,919.7862,1423.5,915.7862" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.5" x2="1425.5" y1="915.7862" y2="915.7862"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="859.5" y="909.9772">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="877.5" y="909.9772">permissions(user)</text><polygon fill="#181818" points="1613,943.4923,1623,947.4923,1613,951.4923,1617,947.4923" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1441.5" x2="1619" y1="947.4923" y2="947.4923"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1448.5" y="941.6833">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1466.5" y="941.6833">permissions(user)</text><polygon fill="#181818" points="1452.5,975.1983,1442.5,979.1983,1452.5,983.1983,1448.5,979.1983" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1446.5" x2="1629" y1="979.1983" y2="979.1983"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1458.5" y="973.3893">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="1476.5" y="973.3893">permissions</text><polygon fill="#181818" points="863.5,1006.9043,853.5,1010.9043,863.5,1014.9043,859.5,1010.9043" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="857.5" x2="1435.5" y1="1010.9043" y2="1010.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="869.5" y="1005.0953">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="887.5" y="1005.0953">permissions</text><polygon fill="#181818" points="1937,1038.6103,1947,1042.6103,1937,1046.6103,1941,1042.6103" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.5" x2="1943" y1="1042.6103" y2="1042.6103"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="859.5" y="1036.8013">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="877.5" y="1036.8013">toDTO()</text><polygon fill="#181818" points="863.5,1070.3163,853.5,1074.3163,863.5,1078.3163,859.5,1074.3163" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="857.5" x2="1953" y1="1074.3163" y2="1074.3163"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="869.5" y="1068.5073">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="887.5" y="1068.5073">permissionsDto</text><polygon fill="#181818" points="464.5,1102.0223,454.5,1106.0223,464.5,1110.0223,460.5,1106.0223" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="458.5" x2="841.5" y1="1106.0223" y2="1106.0223"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="470.5" y="1100.2133">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="488.5" y="1100.2133">permissionsDto</text><polygon fill="#181818" points="39.5,1133.7284,29.5,1137.7284,39.5,1141.7284,35.5,1137.7284" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="33.5" x2="442.5" y1="1137.7284" y2="1137.7284"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="45.5" y="1131.9194">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="63.5" y="1131.9194">shows the current user permissions</text><polygon fill="#181818" points="431.5,1165.4344,441.5,1169.4344,431.5,1173.4344,435.5,1169.4344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="28.5" x2="437.5" y1="1169.4344" y2="1169.4344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="35.5" y="1163.6254">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="53.5" y="1163.6254">selects the desired permissions</text><polygon fill="#181818" points="830.5,1197.1404,840.5,1201.1404,830.5,1205.1404,834.5,1201.1404" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="453.5" x2="836.5" y1="1201.1404" y2="1201.1404"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="460.5" y="1195.3314">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="347" x="478.5" y="1195.3314">updateUserPermissions(boardDto, username, permission)</text><polygon fill="#181818" points="1613,1228.8464,1623,1232.8464,1613,1236.8464,1617,1232.8464" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.5" x2="1619" y1="1232.8464" y2="1232.8464"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="859.5" y="1227.0374">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="877.5" y="1227.0374">update(user, permission)</text><polygon fill="#181818" points="34.5,1290.5524,24.5,1294.5524,34.5,1298.5524,30.5,1294.5524" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="28.5" x2="447.5" y1="1294.5524" y2="1294.5524"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="40.5" y="1288.7434">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="58.5" y="1288.7434">informs operation success</text><!--MD5=[fc243bc519d44544a51d0d3599f19fcf]
@startuml US3004_SD
autonumber

actor "User" as U
participant "ShareBoardUI" as UI <<presentation>>
participant "ShareBoardController" as CTRL <<application>>
participant "ListBoardsService" as BOARDSRV <<service>>
participant "UserManagementService" as USRSRV <<service>>
participant "Board" as B <<domain>>
participant "User" as USER <<domain>>
participant "UserPermission" as PERM <<domain>>
participant "BoardDTO" as BDTO <<dto>>
participant "UserDTO" as USERDTO <<dto>>
participant "UserPermissionsDTO" as PERMDTO <<dto>>

database BoardRepository as BOARDREP <<repository>>
database UserRepository as USERREP <<repository>>

activate U

U -> UI : asks to share a board
activate UI
  UI -> CTRL : new()
  activate CTRL
    CTRL -> BOARDSRV : listBoardService = new(boardRepository)
    activate BOARDSRV
    ' deactivate BOARDSRV

    CTRL -> USRSRV : usrService = new(userRepository)
    activate USRSRV
    ' deactivate USRSRV
  ' deactivate CTRL

  UI -> CTRL : listUserBoards()
  ' activate CTRL
    CTRL -> BOARDSRV : userBoards(user)
    ' activate BOARDSRV
      BOARDSRV -> BOARDREP : findAllBoardsCreatedByUser(user)
      activate BOARDREP
         BOARDSRV <- - BOARDREP : boards
      deactivate BOARDREP

      loop for each board
        BOARDSRV -> B : toDTO(course)
        activate B
          B -> BDTO : new()
          activate BDTO
          deactivate BDTO
        ' deactivate B
      end loop

      CTRL <- - BOARDSRV : boards
    deactivate BOARDSRV
    UI <- - CTRL : boards
  ' deactivate CTRL

  U <- - UI : asks to select a board
' deactivate UI

U -> UI : selects a board
' activate UI
  UI <- - U : asks to enter the username of the user to share the board with
' deactivate UI

U -> UI : enters the desired username
' activate UI

  UI -> CTRL : userPermission(boardDto, username)
  ' activate CTRL

    CTRL -> USRSRV : user = usrService.userOfIdentity(username)
    ' activate USRSRV

      USRSRV -> USERREP : ofIdentity(username)
      activate USERREP
        USRSRV <- - USERREP : user
      deactivate USERREP

      CTRL <- - USRSRV : user
    deactivate USRSRV

    CTRL -> BOARDREP : board = boardRepository.ofIdentity(boardDto.id)
    activate BOARDREP
      CTRL <- - BOARDREP : board
    deactivate BOARDREP

    CTRL -> B : permissions(user)
    ' activate B
      B -> PERM : permissions(user)
      activate PERM
        B <- - PERM : permissions
      deactivate PERM
      CTRL <- - B : permissions
    deactivate B

    CTRL -> PERMDTO : toDTO()
    activate PERMDTO
      CTRL <- - PERMDTO : permissionsDto
    deactivate PERMDTO

    UI <- - CTRL : permissionsDto
  ' deactivate CTRL

  U <- - UI : shows the current user permissions
' deactivate UI

U -> UI : selects the desired permissions
' activate UI
  UI -> CTRL : updateUserPermissions(boardDto, username, permission)
  ' activate CTRL
    CTRL -> PERM : update(user, permission)
    activate PERM
    deactivate PERM
  ' deactivate CTRL

  U <- - UI : informs operation success
deactivate UI

deactivate U

@enduml

@startuml US3004_SD
autonumber

actor "User" as U
participant "ShareBoardUI" as UI <<presentation>>
participant "ShareBoardController" as CTRL <<application>>
participant "ListBoardsService" as BOARDSRV <<service>>
participant "UserManagementService" as USRSRV <<service>>
participant "Board" as B <<domain>>
participant "User" as USER <<domain>>
participant "UserPermission" as PERM <<domain>>
participant "BoardDTO" as BDTO <<dto>>
participant "UserDTO" as USERDTO <<dto>>
participant "UserPermissionsDTO" as PERMDTO <<dto>>

database BoardRepository as BOARDREP <<repository>>
database UserRepository as USERREP <<repository>>

activate U

U -> UI : asks to share a board
activate UI
  UI -> CTRL : new()
  activate CTRL
    CTRL -> BOARDSRV : listBoardService = new(boardRepository)
    activate BOARDSRV

    CTRL -> USRSRV : usrService = new(userRepository)
    activate USRSRV

  UI -> CTRL : listUserBoards()
    CTRL -> BOARDSRV : userBoards(user)
      BOARDSRV -> BOARDREP : findAllBoardsCreatedByUser(user)
      activate BOARDREP
         BOARDSRV <- - BOARDREP : boards
      deactivate BOARDREP

      loop for each board
        BOARDSRV -> B : toDTO(course)
        activate B
          B -> BDTO : new()
          activate BDTO
          deactivate BDTO
      end loop

      CTRL <- - BOARDSRV : boards
    deactivate BOARDSRV
    UI <- - CTRL : boards

  U <- - UI : asks to select a board

U -> UI : selects a board
  UI <- - U : asks to enter the username of the user to share the board with

U -> UI : enters the desired username

  UI -> CTRL : userPermission(boardDto, username)

    CTRL -> USRSRV : user = usrService.userOfIdentity(username)

      USRSRV -> USERREP : ofIdentity(username)
      activate USERREP
        USRSRV <- - USERREP : user
      deactivate USERREP

      CTRL <- - USRSRV : user
    deactivate USRSRV

    CTRL -> BOARDREP : board = boardRepository.ofIdentity(boardDto.id)
    activate BOARDREP
      CTRL <- - BOARDREP : board
    deactivate BOARDREP

    CTRL -> B : permissions(user)
      B -> PERM : permissions(user)
      activate PERM
        B <- - PERM : permissions
      deactivate PERM
      CTRL <- - B : permissions
    deactivate B

    CTRL -> PERMDTO : toDTO()
    activate PERMDTO
      CTRL <- - PERMDTO : permissionsDto
    deactivate PERMDTO

    UI <- - CTRL : permissionsDto

  U <- - UI : shows the current user permissions

U -> UI : selects the desired permissions
  UI -> CTRL : updateUserPermissions(boardDto, username, permission)
    CTRL -> PERM : update(user, permission)
    activate PERM
    deactivate PERM

  U <- - UI : informs operation success
deactivate UI

deactivate U

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>