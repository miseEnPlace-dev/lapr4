<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="856px" preserveAspectRatio="none" style="width:1343px;height:856px;background:#FFFFFF;" version="1.1" viewBox="0 0 1343 856" width="1343px" zoomAndPan="magnify"><defs/><g><!--MD5=[fce1b25d3007138a65dacbe99437503f]
class UndoPostItChangeUI--><g id="elem_UndoPostItChangeUI"><rect codeLine="2" fill="#F1F1F1" height="48" id="UndoPostItChangeUI" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="173" x="661" y="7"/><ellipse cx="676" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M675.4688,29.9219 Q673.7188,29.9219 672.5781,29.1875 Q671.4531,28.4375 670.8906,27.0938 Q670.3438,25.7344 670.3438,23.9375 Q670.3438,21.9063 671,20.4531 Q671.6563,19 672.9375,18.2188 Q674.2188,17.4375 676.0938,17.4375 Q676.9844,17.4375 677.6563,17.625 Q678.3281,17.7969 679.0156,18.1406 L678.2031,20.1563 Q677.5781,19.8438 677.0313,19.7188 Q676.5,19.5938 676.0156,19.5938 Q674.8438,19.5938 674.1406,20.125 Q673.4375,20.6563 673.1406,21.6094 Q672.8438,22.5625 672.8438,23.8281 Q672.8438,25.8438 673.5625,26.8125 Q674.2813,27.7656 675.875,27.7656 Q676.4688,27.7656 677.0938,27.6094 Q677.7188,27.4531 678.5469,27.0781 L678.5469,29.2969 Q677.8125,29.6094 677.0156,29.7656 Q676.2344,29.9219 675.4688,29.9219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="690" y="28.432">UndoPostItChangeUI</text><line style="stroke:#181818;stroke-width:0.5;" x1="662" x2="833" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="662" x2="833" y1="47" y2="47"/></g><!--MD5=[3b7da597afc2aa2e21e120383e47b60c]
class UndoPostItChangeController--><g id="elem_UndoPostItChangeController"><rect codeLine="4" fill="#F1F1F1" height="219.6113" id="UndoPostItChangeController" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="338" x="578.5" y="115"/><ellipse cx="646.75" cy="131" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M646.2188,137.9219 Q644.4688,137.9219 643.3281,137.1875 Q642.2031,136.4375 641.6406,135.0938 Q641.0938,133.7344 641.0938,131.9375 Q641.0938,129.9063 641.75,128.4531 Q642.4063,127 643.6875,126.2188 Q644.9688,125.4375 646.8438,125.4375 Q647.7344,125.4375 648.4063,125.625 Q649.0781,125.7969 649.7656,126.1406 L648.9531,128.1563 Q648.3281,127.8438 647.7813,127.7188 Q647.25,127.5938 646.7656,127.5938 Q645.5938,127.5938 644.8906,128.125 Q644.1875,128.6563 643.8906,129.6094 Q643.5938,130.5625 643.5938,131.8281 Q643.5938,133.8438 644.3125,134.8125 Q645.0313,135.7656 646.625,135.7656 Q647.2188,135.7656 647.8438,135.6094 Q648.4688,135.4531 649.2969,135.0781 L649.2969,137.2969 Q648.5625,137.6094 647.7656,137.7656 Q646.9844,137.9219 646.2188,137.9219 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193" x="667.25" y="136.432">UndoPostItChangeController</text><line style="stroke:#181818;stroke-width:0.5;" x1="579.5" x2="915.5" y1="147" y2="147"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="586.5" y="159.034"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="598.5" y="165.9659">AuthorizationService authz</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="586.5" y="178.1019"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="251" x="598.5" y="185.0339">UserManagementService userService</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="586.5" y="197.1698"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="237" x="598.5" y="204.1018">ListBoardsService listBoardsService</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="586.5" y="216.2377"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="598.5" y="223.1697">BoardRepository boardRepo</text><line style="stroke:#181818;stroke-width:0.5;" x1="579.5" x2="915.5" y1="231.2717" y2="231.2717"/><ellipse cx="589.5" cy="246.3056" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="312" x="598.5" y="250.2376">UndoPostItChangeController(BoardRepository)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="598.5" y="269.3055">Â </text><ellipse cx="589.5" cy="284.4415" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="598.5" y="288.3734">listUserWritableBoards()</text><ellipse cx="589.5" cy="303.5094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="598.5" y="307.4414">listBoardPostIts(board)</text><ellipse cx="589.5" cy="322.5773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="598.5" y="326.5093">undoPostItChange(postIt)</text></g><!--MD5=[54a33dd013dd881697601ca49de6dfbc]
class AuthorizationService--><g id="elem_AuthorizationService"><rect codeLine="17" fill="#F1F1F1" height="67.0679" id="AuthorizationService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171" x="39" y="461.35"/><ellipse cx="54" cy="477.35" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M53.4688,484.2719 Q51.7188,484.2719 50.5781,483.5375 Q49.4531,482.7875 48.8906,481.4437 Q48.3438,480.0844 48.3438,478.2875 Q48.3438,476.2562 49,474.8031 Q49.6563,473.35 50.9375,472.5687 Q52.2188,471.7875 54.0938,471.7875 Q54.9844,471.7875 55.6563,471.975 Q56.3281,472.1469 57.0156,472.4906 L56.2031,474.5062 Q55.5781,474.1937 55.0313,474.0687 Q54.5,473.9437 54.0156,473.9437 Q52.8438,473.9437 52.1406,474.475 Q51.4375,475.0062 51.1406,475.9594 Q50.8438,476.9125 50.8438,478.1781 Q50.8438,480.1937 51.5625,481.1625 Q52.2813,482.1156 53.875,482.1156 Q54.4688,482.1156 55.0938,481.9594 Q55.7188,481.8031 56.5469,481.4281 L56.5469,483.6469 Q55.8125,483.9594 55.0156,484.1156 Q54.2344,484.2719 53.4688,484.2719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="68" y="482.782">AuthorizationService</text><line style="stroke:#181818;stroke-width:0.5;" x1="40" x2="209" y1="493.35" y2="493.35"/><line style="stroke:#181818;stroke-width:0.5;" x1="40" x2="209" y1="501.35" y2="501.35"/><ellipse cx="50" cy="516.384" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="59" y="520.3159">session()</text></g><!--MD5=[c5b08e60048ef1bcd788d24cf324082e]
class UserSession--><g id="elem_UserSession"><rect codeLine="21" fill="#F1F1F1" height="67.0679" id="UserSession" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="7" y="655.15"/><ellipse cx="42.25" cy="671.15" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M41.7188,678.0719 Q39.9688,678.0719 38.8281,677.3375 Q37.7031,676.5875 37.1406,675.2438 Q36.5938,673.8844 36.5938,672.0875 Q36.5938,670.0563 37.25,668.6031 Q37.9063,667.15 39.1875,666.3688 Q40.4688,665.5875 42.3438,665.5875 Q43.2344,665.5875 43.9063,665.775 Q44.5781,665.9469 45.2656,666.2906 L44.4531,668.3063 Q43.8281,667.9938 43.2813,667.8688 Q42.75,667.7438 42.2656,667.7438 Q41.0938,667.7438 40.3906,668.275 Q39.6875,668.8063 39.3906,669.7594 Q39.0938,670.7125 39.0938,671.9781 Q39.0938,673.9938 39.8125,674.9625 Q40.5313,675.9156 42.125,675.9156 Q42.7188,675.9156 43.3438,675.7594 Q43.9688,675.6031 44.7969,675.2281 L44.7969,677.4469 Q44.0625,677.7594 43.2656,677.9156 Q42.4844,678.0719 41.7188,678.0719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="60.75" y="676.582">UserSession</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="165" y1="687.15" y2="687.15"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="165" y1="695.15" y2="695.15"/><ellipse cx="18" cy="710.184" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="27" y="714.1159">authenticatedUser()</text></g><!--MD5=[bc064d979c32666ae52f3d7624591b7b]
class SystemUser--><g id="elem_SystemUser"><rect codeLine="25" fill="#F1F1F1" height="67.0679" id="SystemUser" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="139" y="782.22"/><ellipse cx="154" cy="798.22" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M153.4688,805.1419 Q151.7188,805.1419 150.5781,804.4075 Q149.4531,803.6575 148.8906,802.3138 Q148.3438,800.9544 148.3438,799.1575 Q148.3438,797.1263 149,795.6731 Q149.6563,794.22 150.9375,793.4388 Q152.2188,792.6575 154.0938,792.6575 Q154.9844,792.6575 155.6563,792.845 Q156.3281,793.0169 157.0156,793.3606 L156.2031,795.3763 Q155.5781,795.0638 155.0313,794.9388 Q154.5,794.8138 154.0156,794.8138 Q152.8438,794.8138 152.1406,795.345 Q151.4375,795.8763 151.1406,796.8294 Q150.8438,797.7825 150.8438,799.0481 Q150.8438,801.0638 151.5625,802.0325 Q152.2813,802.9856 153.875,802.9856 Q154.4688,802.9856 155.0938,802.8294 Q155.7188,802.6731 156.5469,802.2981 L156.5469,804.5169 Q155.8125,804.8294 155.0156,804.9856 Q154.2344,805.1419 153.4688,805.1419 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="168" y="803.652">SystemUser</text><line style="stroke:#181818;stroke-width:0.5;" x1="140" x2="249" y1="814.22" y2="814.22"/><ellipse cx="150" cy="829.254" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="159" y="833.1859">username</text><line style="stroke:#181818;stroke-width:0.5;" x1="140" x2="249" y1="841.2879" y2="841.2879"/></g><!--MD5=[dee3711f8c64a3e2b37828f172d71c22]
class UserManagementService--><g id="elem_UserManagementService"><rect codeLine="29" fill="#F1F1F1" height="67.0679" id="UserManagementService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="201" x="201" y="655.15"/><ellipse cx="216" cy="671.15" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M215.4688,678.0719 Q213.7188,678.0719 212.5781,677.3375 Q211.4531,676.5875 210.8906,675.2438 Q210.3438,673.8844 210.3438,672.0875 Q210.3438,670.0563 211,668.6031 Q211.6563,667.15 212.9375,666.3688 Q214.2188,665.5875 216.0938,665.5875 Q216.9844,665.5875 217.6563,665.775 Q218.3281,665.9469 219.0156,666.2906 L218.2031,668.3063 Q217.5781,667.9938 217.0313,667.8688 Q216.5,667.7438 216.0156,667.7438 Q214.8438,667.7438 214.1406,668.275 Q213.4375,668.8063 213.1406,669.7594 Q212.8438,670.7125 212.8438,671.9781 Q212.8438,673.9938 213.5625,674.9625 Q214.2813,675.9156 215.875,675.9156 Q216.4688,675.9156 217.0938,675.7594 Q217.7188,675.6031 218.5469,675.2281 L218.5469,677.4469 Q217.8125,677.7594 217.0156,677.9156 Q216.2344,678.0719 215.4688,678.0719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="230" y="676.582">UserManagementService</text><line style="stroke:#181818;stroke-width:0.5;" x1="202" x2="401" y1="687.15" y2="687.15"/><line style="stroke:#181818;stroke-width:0.5;" x1="202" x2="401" y1="695.15" y2="695.15"/><ellipse cx="212" cy="710.184" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="221" y="714.1159">allUsers()</text></g><!--MD5=[41a5768ecaf639a369a60389685ba013]
class ListBoardsService--><g id="elem_ListBoardsService"><rect codeLine="33" fill="#F1F1F1" height="67.0679" id="ListBoardsService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="264" x="335.5" y="461.35"/><ellipse cx="404.25" cy="477.35" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M403.7188,484.2719 Q401.9688,484.2719 400.8281,483.5375 Q399.7031,482.7875 399.1406,481.4437 Q398.5938,480.0844 398.5938,478.2875 Q398.5938,476.2562 399.25,474.8031 Q399.9063,473.35 401.1875,472.5687 Q402.4688,471.7875 404.3438,471.7875 Q405.2344,471.7875 405.9063,471.975 Q406.5781,472.1469 407.2656,472.4906 L406.4531,474.5062 Q405.8281,474.1937 405.2813,474.0687 Q404.75,473.9437 404.2656,473.9437 Q403.0938,473.9437 402.3906,474.475 Q401.6875,475.0062 401.3906,475.9594 Q401.0938,476.9125 401.0938,478.1781 Q401.0938,480.1937 401.8125,481.1625 Q402.5313,482.1156 404.125,482.1156 Q404.7188,482.1156 405.3438,481.9594 Q405.9688,481.8031 406.7969,481.4281 L406.7969,483.6469 Q406.0625,483.9594 405.2656,484.1156 Q404.4844,484.2719 403.7188,484.2719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="424.75" y="482.782">ListBoardsService</text><line style="stroke:#181818;stroke-width:0.5;" x1="336.5" x2="598.5" y1="493.35" y2="493.35"/><line style="stroke:#181818;stroke-width:0.5;" x1="336.5" x2="598.5" y1="501.35" y2="501.35"/><ellipse cx="346.5" cy="516.384" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="355.5" y="520.3159">findUserWritableBoards(username)</text></g><!--MD5=[076fcfbbf048c8ab7376a93e47a63565]
class ListPostItsService--><g id="elem_ListPostItsService"><rect codeLine="37" fill="#F1F1F1" height="67.0679" id="ListPostItsService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="225" x="635" y="461.35"/><ellipse cx="685.25" cy="477.35" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M684.7188,484.2719 Q682.9688,484.2719 681.8281,483.5375 Q680.7031,482.7875 680.1406,481.4437 Q679.5938,480.0844 679.5938,478.2875 Q679.5938,476.2562 680.25,474.8031 Q680.9063,473.35 682.1875,472.5687 Q683.4688,471.7875 685.3438,471.7875 Q686.2344,471.7875 686.9063,471.975 Q687.5781,472.1469 688.2656,472.4906 L687.4531,474.5062 Q686.8281,474.1937 686.2813,474.0687 Q685.75,473.9437 685.2656,473.9437 Q684.0938,473.9437 683.3906,474.475 Q682.6875,475.0062 682.3906,475.9594 Q682.0938,476.9125 682.0938,478.1781 Q682.0938,480.1937 682.8125,481.1625 Q683.5313,482.1156 685.125,482.1156 Q685.7188,482.1156 686.3438,481.9594 Q686.9688,481.8031 687.7969,481.4281 L687.7969,483.6469 Q687.0625,483.9594 686.2656,484.1156 Q685.4844,484.2719 684.7188,484.2719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="705.75" y="482.782">ListPostItsService</text><line style="stroke:#181818;stroke-width:0.5;" x1="636" x2="859" y1="493.35" y2="493.35"/><line style="stroke:#181818;stroke-width:0.5;" x1="636" x2="859" y1="501.35" y2="501.35"/><ellipse cx="646" cy="516.384" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="655" y="520.3159">findLatestByBoardId(boardId)</text></g><!--MD5=[e8c189551b7885b999ad7cefb30fc2a3]
class PersistenceContext--><g id="elem_PersistenceContext"><rect codeLine="41" fill="#F1F1F1" height="67.0679" id="PersistenceContext" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="894.5" y="461.35"/><ellipse cx="909.5" cy="477.35" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M908.9688,484.2719 Q907.2188,484.2719 906.0781,483.5375 Q904.9531,482.7875 904.3906,481.4437 Q903.8438,480.0844 903.8438,478.2875 Q903.8438,476.2562 904.5,474.8031 Q905.1563,473.35 906.4375,472.5687 Q907.7188,471.7875 909.5938,471.7875 Q910.4844,471.7875 911.1563,471.975 Q911.8281,472.1469 912.5156,472.4906 L911.7031,474.5062 Q911.0781,474.1937 910.5313,474.0687 Q910,473.9437 909.5156,473.9437 Q908.3438,473.9437 907.6406,474.475 Q906.9375,475.0062 906.6406,475.9594 Q906.3438,476.9125 906.3438,478.1781 Q906.3438,480.1937 907.0625,481.1625 Q907.7813,482.1156 909.375,482.1156 Q909.9688,482.1156 910.5938,481.9594 Q911.2188,481.8031 912.0469,481.4281 L912.0469,483.6469 Q911.3125,483.9594 910.5156,484.1156 Q909.7344,484.2719 908.9688,484.2719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="923.5" y="482.782">PersistenceContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="895.5" x2="1053.5" y1="493.35" y2="493.35"/><line style="stroke:#181818;stroke-width:0.5;" x1="895.5" x2="1053.5" y1="501.35" y2="501.35"/><ellipse cx="905.5" cy="516.384" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="914.5" y="520.3159">repositories()</text></g><!--MD5=[48590afff58a68e2fcba47824d6f8a11]
class RepositoryFactory--><g id="elem_RepositoryFactory"><rect codeLine="45" fill="#F1F1F1" height="67.0679" id="RepositoryFactory" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153" x="898" y="655.15"/><ellipse cx="913.9" cy="671.15" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M913.3688,678.0719 Q911.6188,678.0719 910.4781,677.3375 Q909.3531,676.5875 908.7906,675.2438 Q908.2438,673.8844 908.2438,672.0875 Q908.2438,670.0563 908.9,668.6031 Q909.5563,667.15 910.8375,666.3688 Q912.1188,665.5875 913.9938,665.5875 Q914.8844,665.5875 915.5563,665.775 Q916.2281,665.9469 916.9156,666.2906 L916.1031,668.3063 Q915.4781,667.9938 914.9313,667.8688 Q914.4,667.7438 913.9156,667.7438 Q912.7438,667.7438 912.0406,668.275 Q911.3375,668.8063 911.0406,669.7594 Q910.7438,670.7125 910.7438,671.9781 Q910.7438,673.9938 911.4625,674.9625 Q912.1813,675.9156 913.775,675.9156 Q914.3688,675.9156 914.9938,675.7594 Q915.6188,675.6031 916.4469,675.2281 L916.4469,677.4469 Q915.7125,677.7594 914.9156,677.9156 Q914.1344,678.0719 913.3688,678.0719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="928.1" y="676.582">RepositoryFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="899" x2="1050" y1="687.15" y2="687.15"/><line style="stroke:#181818;stroke-width:0.5;" x1="899" x2="1050" y1="695.15" y2="695.15"/><ellipse cx="909" cy="710.184" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="918" y="714.1159">RepositoryFactory()</text></g><!--MD5=[343839bb48731e46d0fda742d45fdd31]
class BoardRepository--><g id="elem_BoardRepository"><rect codeLine="49" fill="#F1F1F1" height="67.0679" id="BoardRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="264" x="702.5" y="782.22"/><ellipse cx="777.75" cy="798.22" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M773.7813,804.72 L773.7813,803.0169 L776.1406,802.7513 L776.1406,794.5481 L773.7813,794.2825 L773.7813,792.5794 L780.9219,792.5794 L780.9219,794.2825 L778.5,794.5481 L778.5,802.7513 L780.9219,803.0169 L780.9219,804.72 L773.7813,804.72 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="105" x="798.25" y="803.652">BoardRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="703.5" x2="965.5" y1="814.22" y2="814.22"/><line style="stroke:#181818;stroke-width:0.5;" x1="703.5" x2="965.5" y1="822.22" y2="822.22"/><ellipse cx="713.5" cy="837.254" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="722.5" y="841.1859">findUserWritableBoards(username)</text></g><!--MD5=[d98fa60e7e29446a1b02022748feb6fd]
class PostItRepository--><g id="elem_PostItRepository"><rect codeLine="53" fill="#F1F1F1" height="67.0679" id="PostItRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="225" x="1002" y="782.22"/><ellipse cx="1058.25" cy="798.22" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1054.2813,804.72 L1054.2813,803.0169 L1056.6406,802.7513 L1056.6406,794.5481 L1054.2813,794.2825 L1054.2813,792.5794 L1061.4219,792.5794 L1061.4219,794.2825 L1059,794.5481 L1059,802.7513 L1061.4219,803.0169 L1061.4219,804.72 L1054.2813,804.72 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="104" x="1078.75" y="803.652">PostItRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="1003" x2="1226" y1="814.22" y2="814.22"/><line style="stroke:#181818;stroke-width:0.5;" x1="1003" x2="1226" y1="822.22" y2="822.22"/><ellipse cx="1013" cy="837.254" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="1022" y="841.1859">findLatestByBoardId(boardId)</text></g><!--MD5=[458552462bbdcbc92793825846cc11c0]
class PostIt--><g id="elem_PostIt"><rect codeLine="57" fill="#F1F1F1" height="200.5433" id="PostIt" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="1089" y="394.61"/><ellipse cx="1119.75" cy="410.61" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1119.2188,417.5319 Q1117.4688,417.5319 1116.3281,416.7975 Q1115.2031,416.0475 1114.6406,414.7037 Q1114.0938,413.3444 1114.0938,411.5475 Q1114.0938,409.5162 1114.75,408.0631 Q1115.4063,406.61 1116.6875,405.8287 Q1117.9688,405.0475 1119.8438,405.0475 Q1120.7344,405.0475 1121.4063,405.235 Q1122.0781,405.4069 1122.7656,405.7506 L1121.9531,407.7662 Q1121.3281,407.4537 1120.7813,407.3287 Q1120.25,407.2037 1119.7656,407.2037 Q1118.5938,407.2037 1117.8906,407.735 Q1117.1875,408.2662 1116.8906,409.2194 Q1116.5938,410.1725 1116.5938,411.4381 Q1116.5938,413.4537 1117.3125,414.4225 Q1118.0313,415.3756 1119.625,415.3756 Q1120.2188,415.3756 1120.8438,415.2194 Q1121.4688,415.0631 1122.2969,414.6881 L1122.2969,416.9069 Q1121.5625,417.2194 1120.7656,417.3756 Q1119.9844,417.5319 1119.2188,417.5319 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1137.25" y="416.042">PostIt</text><line style="stroke:#181818;stroke-width:0.5;" x1="1090" x2="1193" y1="426.61" y2="426.61"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1097" y="438.644"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="13" x="1109" y="445.5759">id</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1097" y="457.7119"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="1109" y="464.6439">title</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1097" y="476.7798"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1109" y="483.7118">state</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1097" y="495.8477"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1109" y="502.7797">coordinates</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1097" y="514.9156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="1109" y="521.8476">createdAt</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1097" y="533.9835"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="1109" y="540.9155">owner</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1097" y="553.0515"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="1109" y="559.9834">previous</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1097" y="572.1194"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1109" y="579.0514">isLatest</text><line style="stroke:#181818;stroke-width:0.5;" x1="1090" x2="1193" y1="587.1533" y2="587.1533"/></g><!--MD5=[9563755d011c5cec7ec66dc53565a59e]
class Board--><g id="elem_Board"><rect codeLine="68" fill="#F1F1F1" height="200.5433" id="Board" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="1228.5" y="394.61"/><ellipse cx="1259.7" cy="410.61" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1259.1688,417.5319 Q1257.4188,417.5319 1256.2781,416.7975 Q1255.1531,416.0475 1254.5906,414.7037 Q1254.0438,413.3444 1254.0438,411.5475 Q1254.0438,409.5162 1254.7,408.0631 Q1255.3563,406.61 1256.6375,405.8287 Q1257.9188,405.0475 1259.7938,405.0475 Q1260.6844,405.0475 1261.3563,405.235 Q1262.0281,405.4069 1262.7156,405.7506 L1261.9031,407.7662 Q1261.2781,407.4537 1260.7313,407.3287 Q1260.2,407.2037 1259.7156,407.2037 Q1258.5438,407.2037 1257.8406,407.735 Q1257.1375,408.2662 1256.8406,409.2194 Q1256.5438,410.1725 1256.5438,411.4381 Q1256.5438,413.4537 1257.2625,414.4225 Q1257.9813,415.3756 1259.575,415.3756 Q1260.1688,415.3756 1260.7938,415.2194 Q1261.4188,415.0631 1262.2469,414.6881 L1262.2469,416.9069 Q1261.5125,417.2194 1260.7156,417.3756 Q1259.9344,417.5319 1259.1688,417.5319 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="1277.3" y="416.042">Board</text><line style="stroke:#181818;stroke-width:0.5;" x1="1229.5" x2="1335.5" y1="426.61" y2="426.61"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1236.5" y="438.644"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="13" x="1248.5" y="445.5759">id</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1236.5" y="457.7119"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="1248.5" y="464.6439">title</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1236.5" y="476.7798"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="1248.5" y="483.7118">archived</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1236.5" y="495.8477"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="1248.5" y="502.7797">createdAt</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1236.5" y="514.9156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="1248.5" y="521.8476">owner</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1236.5" y="533.9835"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1248.5" y="540.9155">permissions</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1236.5" y="553.0515"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1248.5" y="559.9834">rows</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1236.5" y="572.1194"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="1248.5" y="579.0514">columns</text><line style="stroke:#181818;stroke-width:0.5;" x1="1229.5" x2="1335.5" y1="587.1533" y2="587.1533"/></g><!--MD5=[65dcaa9c99eedf033632fe3a78e16eaa]
link UndoPostItChangeUI to UndoPostItChangeController--><g id="link_UndoPostItChangeUI_UndoPostItChangeController"><path codeLine="79" d="M747.5,55.14 C747.5,69.25 747.5,88.47 747.5,108.89 " fill="none" id="UndoPostItChangeUI-to-UndoPostItChangeController" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="747.5,113.68,751.5,104.68,747.5,108.68,743.5,104.68,747.5,113.68" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[8dece8f776007d67e101e82934172b1e]
link UndoPostItChangeController to AuthorizationService--><g id="link_UndoPostItChangeController_AuthorizationService"><path codeLine="81" d="M578.15,269.72 C480.92,298.4 358.31,340.57 256.5,394.61 C224.07,411.82 191.06,436.65 166.17,457.17 " fill="none" id="UndoPostItChangeController-to-AuthorizationService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="162.61,460.95,172.0857,458.2647,166.4523,457.7505,166.9665,452.117,162.61,460.95" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[6faaa85f68e7a9bf61953a1694afd9e9]
link UndoPostItChangeController to UserManagementService--><g id="link_UndoPostItChangeController_UserManagementService"><path codeLine="82" d="M578.13,247.67 C485.54,269.03 377.73,311.24 317.5,394.61 C262.57,470.64 278.36,588.85 291.57,649.28 " fill="none" id="UndoPostItChangeController-to-UserManagementService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="292.84,653.94,294.7864,644.2854,291.7523,649.0597,286.978,646.0257,292.84,653.94" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[0c1507c0899b01d15866c9097a27163f]
link UndoPostItChangeController to ListPostItsService--><g id="link_UndoPostItChangeController_ListPostItsService"><path codeLine="83" d="M747.5,334.84 C747.5,377.56 747.5,423.78 747.5,455.33 " fill="none" id="UndoPostItChangeController-to-ListPostItsService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="747.5,460.04,751.5,451.04,747.5,455.04,743.5,451.04,747.5,460.04" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[06ae13ba9334940d560375c55845d5f7]
link UndoPostItChangeController to ListBoardsService--><g id="link_UndoPostItChangeController_ListBoardsService"><path codeLine="84" d="M633.61,334.84 C588.07,378.44 538.71,425.7 505.74,457.27 " fill="none" id="UndoPostItChangeController-to-ListBoardsService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="502.8,460.04,512.0687,456.7096,506.4132,456.5839,506.5389,450.9284,502.8,460.04" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[f0caca61376949ff3cfbe7c3f6c5f174]
link UndoPostItChangeController to PersistenceContext--><g id="link_UndoPostItChangeController_PersistenceContext"><path codeLine="85" d="M839.83,334.84 C876.45,378.09 916.12,424.93 942.85,456.5 " fill="none" id="UndoPostItChangeController-to-PersistenceContext" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="946.69,460.04,943.9285,450.5862,943.4596,456.2236,937.8223,455.7548,946.69,460.04" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[8874559b5fa21d4f202a373107669284]
link UndoPostItChangeController to PostIt--><g id="link_UndoPostItChangeController_PostIt"><path codeLine="86" d="M916.94,295.06 C969.83,321.48 1026.14,354.95 1071.5,394.61 C1076.12,398.65 1080.59,403.05 1084.89,407.68 " fill="none" id="UndoPostItChangeController-to-PostIt" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1087.79,411,1084.7425,401.6345,1084.4452,407.2835,1078.7961,406.9862,1087.79,411" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1c4cb0410561227601cff2823ebbad01]
link UndoPostItChangeController to Board--><g id="link_UndoPostItChangeController_Board"><path codeLine="87" d="M916.72,261.2 C1010.38,286.88 1124.97,328.91 1211.5,394.61 C1215.93,397.97 1220.2,401.69 1224.29,405.66 " fill="none" id="UndoPostItChangeController-to-Board" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1227.32,408.7,1223.803,399.5005,1223.7916,405.1573,1218.1348,405.1459,1227.32,408.7" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[51777fa5f2d524d4088e82040ea93a10]
link AuthorizationService to UserSession--><g id="link_AuthorizationService_UserSession"><path codeLine="89" d="M117.97,528.86 C111.34,562.3 101.09,614.04 94.1,649.31 " fill="none" id="AuthorizationService-to-UserSession" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="93.01,653.83,98.6838,645.7797,93.9823,648.9255,90.8366,644.224,93.01,653.83" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[355d05d6de50819a91dcbeed962da43b]
link UserSession to SystemUser--><g id="link_UserSession_SystemUser"><path codeLine="91" d="M114.88,722.55 C129.51,739.5 147.41,760.23 162.53,777.74 " fill="none" id="UserSession-to-SystemUser" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="166.31,781.12,163.4723,771.6888,163.049,777.3298,157.408,776.9064,166.31,781.12" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[cd80e25f455daf6ddd6f1a7b4e805c64]
link UserManagementService to SystemUser--><g id="link_UserManagementService_SystemUser"><path codeLine="92" d="M273.39,722.55 C258.89,739.5 241.15,760.23 226.17,777.74 " fill="none" id="UserManagementService-to-SystemUser" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="222.43,781.12,231.3149,776.8706,225.6757,777.3167,225.2296,771.6774,222.43,781.12" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[754b775031405e096442b27febffa290]
link PersistenceContext to RepositoryFactory--><g id="link_PersistenceContext_RepositoryFactory"><path codeLine="94" d="M974.5,528.86 C974.5,562.17 974.5,613.62 974.5,648.88 " fill="none" id="PersistenceContext-to-RepositoryFactory" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="974.5,653.83,978.5,644.83,974.5,648.83,970.5,644.83,974.5,653.83" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9e6ab32cded5d5462f9797f4992e95c2]
link RepositoryFactory to BoardRepository--><g id="link_RepositoryFactory_BoardRepository"><path codeLine="96" d="M937.72,722.55 C918.59,739.64 895.15,760.58 875.44,778.18 " fill="none" id="RepositoryFactory-to-BoardRepository" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="872.04,781.12,881.4177,778.1103,875.7699,777.7902,876.0901,772.1424,872.04,781.12" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[c2f3c452cf98ef45711d7aad2b0913e2]
link RepositoryFactory to PostItRepository--><g id="link_RepositoryFactory_PostItRepository"><path codeLine="97" d="M1011.28,722.55 C1030.41,739.64 1053.85,760.58 1073.56,778.18 " fill="none" id="RepositoryFactory-to-PostItRepository" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1076.96,781.12,1072.9099,772.1424,1073.2301,777.7902,1067.5823,778.1103,1076.96,781.12" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[e34cf36d1a82166c8a2b00fccb94cda1]
@startuml US3008_CD

class UndoPostItChangeUI {}

class UndoPostItChangeController {
  - AuthorizationService authz
  - UserManagementService userService
  - ListBoardsService listBoardsService
  - BoardRepository boardRepo

  + UndoPostItChangeController(BoardRepository)

  + listUserWritableBoards()
  + listBoardPostIts(board)
  + undoPostItChange(postIt)
}

class AuthorizationService {
  + session()
}

class UserSession {
  + authenticatedUser()
}

class SystemUser {
  + username
}

class UserManagementService {
  + allUsers()
}

class ListBoardsService {
  + findUserWritableBoards(username)
}

class ListPostItsService {
  + findLatestByBoardId(boardId)
}

class PersistenceContext {
  + repositories()
}

class RepositoryFactory {
  + RepositoryFactory()
}

interface BoardRepository {
  + findUserWritableBoards(username)
}

interface PostItRepository {
  + findLatestByBoardId(boardId)
}

class PostIt {
  - id
  - title
  - state
  - coordinates
  - createdAt
  - owner
  - previous
  - isLatest
}

class Board {
  - id
  - title
  - archived
  - createdAt
  - owner
  - permissions
  - rows
  - columns
}

UndoPostItChangeUI ..> UndoPostItChangeController

UndoPostItChangeController - -> AuthorizationService
UndoPostItChangeController - -> UserManagementService
UndoPostItChangeController - -> ListPostItsService
UndoPostItChangeController - -> ListBoardsService
UndoPostItChangeController ..> PersistenceContext
UndoPostItChangeController ..> PostIt
UndoPostItChangeController ..> Board

AuthorizationService ..> UserSession

UserSession ..> SystemUser
UserManagementService ..> SystemUser

PersistenceContext ..> RepositoryFactory

RepositoryFactory ..> BoardRepository
RepositoryFactory ..> PostItRepository

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>