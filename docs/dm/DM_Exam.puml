@startuml DM-EXAM
'https://plantuml.com/class-diagram

skinparam classAttributeIconSize 0
hide empty attributes
hide empty methods
skinparam classBackgroundColor beige
skinparam ArrowColor #222222

package "<<aggregate>> Exam" {
  entity Exam

  entity Section

  class Header
  class FeedbackType
  class GradeType
  class Description

  class Time

  class State

  class SectionName
}

package "<<agregate>> Question" {
  entity Question
}

package "<<aggregate>> Student" {
    entity Student
}

entity Student <<entity>> <<root>> {
}

package "<<aggregate>> Course" {
    entity Course
}

entity Course <<entity>> <<root>> {
}

package "<<aggregate>> Answer" {
    entity Answer
}

entity Answer <<entity>> <<root>> {
}

package "<<aggregate>> Teacher" {
    entity Teacher
}

entity Teacher <<entity>> <<root>> {
}

entity Exam <<entity>> <<root>> {
}

entity Section <<entity>> {}

class SectionName <<(V,#FF8B40) value object>> {}
class State <<(V,#FF8B40) value object>> {}

class Header <<(V,#FF8B40) value object>> {}
class FeedbackType <<(V,#FF8B40) value object>> {}
class GradeType <<(V,#FF8B40) value object>> {}
class Description <<(V,#FF8B40) value object>> {}
class Time <<(V,#FF8B40) value object>> {}

entity Question <<entity>> <<root>> {}

Exam --> "0..1" Time : start time
Exam --> "0..1" Time : end time

Exam --> "1" State : is in

note bottom of State
  DRAFT
  PUBLISHED
end note

Exam *-- "1..*" Section
Exam ---> "1" Course : is from
Exam ---> "1" Teacher : is created by

Exam *- "1" Header
Header *--- "1" FeedbackType
Header *--- "1" GradeType
Header *-- "1" Description

note bottom of FeedbackType
  NONE
  ON_SUBMITION
  AFTER_CLOSING
end note

note bottom of GradeType
  NONE
  ON_SUBMITION
  AFTER_CLOSING
end note

Section ---> "1..*" Question
Section *-- SectionName

Answer --> "1" Student : belongs to

Answer ---> "1" Exam : is for

@enduml
